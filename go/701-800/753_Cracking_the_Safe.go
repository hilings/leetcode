package main

import (
	"fmt"
)

func crackSafe(n int, k int) string {
	fmt.Printf("\ncrackSafe, n =%d, k = %d\n", n, k)
	visited := map[string]bool{}
	r := ""
	p := 1 // pow(k, n)
	for i := 0; i < n; i++ {
		r += "0"
		p *= k
	}
	visited[r] = true
	for i := 0; i < p-1; i++ {
		prefix := r[len(r)-n+1:]
		fmt.Printf("prefix = %s\n", prefix)
		for j := k - 1; j >= 0; j-- {
			suffix := fmt.Sprintf("%c", '0'+j)
			tmp := prefix + suffix
			if _, ok := visited[tmp]; ok {
				fmt.Printf("\t%s visited\n", tmp)
				continue
			}
			r += suffix
			visited[tmp] = true
			fmt.Printf("\tappending %s, marking %s\n", suffix, tmp)
			break
		}
	}
	return r
}

// func main() {
// 	fmt.Printf("LeetCode 753. Cracking the Safe ...\n\n")

// 	type args struct {
// 		n int
// 		k int
// 	}
// 	tests := []struct {
// 		args args
// 		want string
// 	}{
// 		{
// 			args: args{
// 				n: 1,
// 				k: 2,
// 			},
// 			want: "10",
// 		},
// 		{
// 			args: args{
// 				n: 2,
// 				k: 2,
// 			},
// 			want: "01100",
// 		},
// 		{
// 			args: args{
// 				n: 3,
// 				k: 3,
// 			},
// 			want: "00022212202112102012001110100",
// 		},
// 		{
// 			args: args{
// 				n: 2,
// 				k: 4,
// 			},
// 			want: "00332313022120110",
// 		},
// 		{
// 			args: args{
// 				n: 4,
// 				k: 8,
// 			},
// 			want: "0000777767775777477737772777177707766776577647763776277617760775677557754775377527751775077467745774477437742774177407736773577347733773277317730772677257724772377227721772077167715771477137712771177107706770577047703770277017700767675767476737672767176707666766576647663766276617660765676557654765376527651765076467645764476437642764176407636763576347633763276317630762676257624762376227621762076167615761476137612761176107606760576047603760276017600757574757375727571757075667565756475637562756175607556755575547553755275517550754675457544754375427541754075367535753475337532753175307526752575247523752275217520751675157514751375127511751075067505750475037502750175007474737472747174707466746574647463746274617460745674557454745374527451745074467445744474437442744174407436743574347433743274317430742674257424742374227421742074167415741474137412741174107406740574047403740274017400737372737173707366736573647363736273617360735673557354735373527351735073467345734473437342734173407336733573347333733273317330732673257324732373227321732073167315731473137312731173107306730573047303730273017300727271727072667265726472637262726172607256725572547253725272517250724672457244724372427241724072367235723472337232723172307226722572247223722272217220721672157214721372127211721072067205720472037202720172007171707166716571647163716271617160715671557154715371527151715071467145714471437142714171407136713571347133713271317130712671257124712371227121712071167115711471137112711171107106710571047103710271017100707066706570647063706270617060705670557054705370527051705070467045704470437042704170407036703570347033703270317030702670257024702370227021702070167015701470137012701170107006700570047003700270017000666656664666366626661666066556654665366526651665066456644664366426641664066356634663366326631663066256624662366226621662066156614661366126611661066056604660366026601660065656465636562656165606555655465536552655165506545654465436542654165406535653465336532653165306525652465236522652165206515651465136512651165106505650465036502650165006464636462646164606455645464536452645164506445644464436442644164406435643464336432643164306425642464236422642164206415641464136412641164106405640464036402640164006363626361636063556354635363526351635063456344634363426341634063356334633363326331633063256324632363226321632063156314631363126311631063056304630363026301630062626162606255625462536252625162506245624462436242624162406235623462336232623162306225622462236222622162206215621462136212621162106205620462036202620162006161606155615461536152615161506145614461436142614161406135613461336132613161306125612461236122612161206115611461136112611161106105610461036102610161006060556054605360526051605060456044604360426041604060356034603360326031603060256024602360226021602060156014601360126011601060056004600360026001600055554555355525551555055445543554255415540553455335532553155305524552355225521552055145513551255115510550455035502550155005454535452545154505444544354425441544054345433543254315430542454235422542154205414541354125411541054045403540254015400535352535153505344534353425341534053345333533253315330532453235322532153205314531353125311531053045303530253015300525251525052445243524252415240523452335232523152305224522352225221522052145213521252115210520452035202520152005151505144514351425141514051345133513251315130512451235122512151205114511351125111511051045103510251015100505044504350425041504050345033503250315030502450235022502150205014501350125011501050045003500250015000444434442444144404433443244314430442344224421442044134412441144104403440244014400434342434143404333433243314330432343224321432043134312431143104303430243014300424241424042334232423142304223422242214220421342124211421042034202420142004141404133413241314130412341224121412041134112411141104103410241014100404033403240314030402340224021402040134012401140104003400240014000333323331333033223321332033123311331033023301330032323132303222322132203212321132103202320132003131303122312131203112311131103102310131003030223021302030123011301030023001300022221222022112210220122002121202111211021012100202011201020012000111101100101000",
// 		},
// 	}
// 	for _, tt := range tests {
// 		r := crackSafe(tt.args.n, tt.args.k)
// 		fmt.Printf("got      = %s, len = %d\n", r, len(r))
// 		fmt.Printf("expected = %s, len = %d\n", tt.want, len(tt.want))
// 	}
// }
