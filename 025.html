<html>
<head>
<meta charset="UTF-8">
</head>
<body>
<h1>LeetCode 025 Reverse Nodes in k-Group, JavaScript ... ...</h1>
<script>
/**
 * Definition for singly-linked list.
 */
function ListNode(val) {
    this.val = val;
    this.next = null;
}

/**
 * @param {ListNode} head
 * @param {number} k
 * @return {ListNode}
 */
var reverseKGroup = function(head, k) {
    printList(head);
    if (k == 1)
        return head;

    var first = new ListNode(0);
    first.next = head;
    var p0 = first;
    var p1 = head;
    while (true) {
        var q = p1;
        for (var i = 1; i < k && q; i++)
            q = q.next;
        if (!q)
            break;
        var h = p1;
        var p2 = p1.next;
        while (p2 != q) {
            var t = p2.next;
            p2.next = p1;
            p1 = p2;
            p2 = t;
        }
        h.next = q.next;
        q.next = p1;
        p0.next = q;

        p0 = h;
        p1 = h.next;
        h = p1;
        q = p1;
    }
    printList(first.next);
    return first.next;
};

function printList(l) {
    while (l) {
        console.log(l.val);
        l = l.next;
    }
}

/////////////////////////////////////////////////////
console.log("LeetCode 025 Reverse Nodes in k-Group, JavaScript ... ...");
var a1 = new ListNode(1);
var a2 = new ListNode(2);
var a3 = new ListNode(3);
var a4 = new ListNode(4);
var a5 = new ListNode(5);
a1.next = a2;
a2.next = a3;
a3.next = a4;
a4.next = a5;

var k = 2;

reverseKGroup(a1, k);
</script>
</body>
</html>
